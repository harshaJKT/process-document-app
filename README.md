# üìÑ Document Processing API with Together AI

This project is an **asynchronous FastAPI application** for **PDF document processing** with advanced **keyword extraction** and **query answering** using Together AI models.

## üöÄ Features
- PDF Upload API.
- Document content is extracted, chunked, and stored in PostgreSQL.
- Together AI generates **keywords** and **summaries** for every chunk.
- Query API retrieves documents filtered by user role and keywords.
- Uses PostgreSQL + SQLAlchemy for storage.
- Fast, async-based processing pipeline.

## üèÉ Setup Instructions

### 1. Clone Repository
```bash
git clone <repo-url>
cd process-document-app
```

### 2. Install Dependencies
```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 3. Configure Environment Variables
Create a `.env` file in the root directory and add:

```env
DATABASE_URL=postgresql://username:password@localhost:5432/document_db
TOGETHER_API_KEY=your_together_api_key_here
```

### 4. Start FastAPI App
```bash
uvicorn app.main:app --reload
```

## üì• API Endpoints

### ‚úÖ File Upload
**`POST /upload`**  
Upload a PDF document for processing and storage.

---

### ‚úÖ Document Retrieval
**`GET /retrieve?query=...&user=...`**  
Retrieve document answers based on query and user role.

---

### ‚úÖ User Role Management

- **`GET /user-role`**  
  Get all user roles.

- **`POST /user-role`**  
  Create a new user role.

- **`PUT /user-role/{id}`**  
  Update an existing user role by ID.

- **`DELETE /user-role/{id}`**  
  Delete a user role by ID.

---

## ‚öôÔ∏è Technologies Used
- FastAPI + Uvicorn
- SQLAlchemy + PostgreSQL
- Together AI (Mixtral-8x7B-Instruct)
- PyPDF2 for PDF parsing
- RabbitMQ for task queuing (if enabled)

---

### ‚úÖ Notes
- All keywords and summaries are auto-generated by Together AI for every document chunk.
- The app supports role-based document retrieval.
- Works well for document Q&A applications.
